<!doctype html><html lang=en dir=auto><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Game Hacking: Using Dynamic Patching to Modify Games | Blog do GRIS</title>
<meta name=keywords content><meta name=description content="Introduction
Have you ever considered modifying the source code of a game as you wish and playing with that modification? In this text, we will demonstrate how to modify a game in real-time using low-level knowledge, specifically assembly language. Additionally, we will develop a simple Python program to automate the process for us, employing the memory patching technique.
Before proceeding, it is entirely possible that some of the expressions mentioned above may not be familiar to you. If you&rsquo;re wondering what assembly is, it&rsquo;s a low-level programming language that represents machine code in a human-readable format, specific to each type of CPU. Assembly (or simply ASM) instructions are crucial as they allow us to understand what a program or game is doing, even after it has been compiled into its final form."><meta name=author content="ruhptura"><link rel=canonical href=http://localhost:1313/blog/2023-08-03-patching-games/><meta name=google-site-verification content="G-YWN8S4BKK0"><link crossorigin=anonymous href=/assets/css/stylesheet.45e028aa8ce0961349adf411b013ee39406be2c0bc80d4ea3fc04555f7f4611a.css integrity="sha256-ReAoqozglhNJrfQRsBPuOUBr4sC8gNTqP8BFVff0YRo=" rel="preload stylesheet" as=style><link rel=icon href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=http://localhost:1313/blog/2023-08-03-patching-games/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css integrity=sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.js integrity=sha384-VQ8d8WVFw0yHhCk5E8I86oOhv48xLpnDZx5T9GogA/Y84DcCKWXDmSDfn13bzFZY crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/contrib/auto-render.min.js integrity=sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR crossorigin=anonymous onload=renderMathInElement(document.body)></script>>
<script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}]})})</script><meta property="og:url" content="http://localhost:1313/blog/2023-08-03-patching-games/"><meta property="og:site_name" content="Blog do GRIS"><meta property="og:title" content="Game Hacking: Using Dynamic Patching to Modify Games"><meta property="og:description" content="Introduction Have you ever considered modifying the source code of a game as you wish and playing with that modification? In this text, we will demonstrate how to modify a game in real-time using low-level knowledge, specifically assembly language. Additionally, we will develop a simple Python program to automate the process for us, employing the memory patching technique.
Before proceeding, it is entirely possible that some of the expressions mentioned above may not be familiar to you. If you’re wondering what assembly is, it’s a low-level programming language that represents machine code in a human-readable format, specific to each type of CPU. Assembly (or simply ASM) instructions are crucial as they allow us to understand what a program or game is doing, even after it has been compiled into its final form."><meta property="og:locale" content="pt"><meta property="og:type" content="article"><meta property="article:section" content="blog"><meta property="article:published_time" content="2023-08-03T00:00:00+00:00"><meta property="article:modified_time" content="2023-08-03T00:00:00+00:00"><meta property="og:image" content="http://localhost:1313/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="http://localhost:1313/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="Game Hacking: Using Dynamic Patching to Modify Games"><meta name=twitter:description content="Introduction
Have you ever considered modifying the source code of a game as you wish and playing with that modification? In this text, we will demonstrate how to modify a game in real-time using low-level knowledge, specifically assembly language. Additionally, we will develop a simple Python program to automate the process for us, employing the memory patching technique.
Before proceeding, it is entirely possible that some of the expressions mentioned above may not be familiar to you. If you&rsquo;re wondering what assembly is, it&rsquo;s a low-level programming language that represents machine code in a human-readable format, specific to each type of CPU. Assembly (or simply ASM) instructions are crucial as they allow us to understand what a program or game is doing, even after it has been compiled into its final form."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Blogs","item":"http://localhost:1313/blog/"},{"@type":"ListItem","position":2,"name":"Game Hacking: Using Dynamic Patching to Modify Games","item":"http://localhost:1313/blog/2023-08-03-patching-games/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Game Hacking: Using Dynamic Patching to Modify Games","name":"Game Hacking: Using Dynamic Patching to Modify Games","description":"Introduction Have you ever considered modifying the source code of a game as you wish and playing with that modification? In this text, we will demonstrate how to modify a game in real-time using low-level knowledge, specifically assembly language. Additionally, we will develop a simple Python program to automate the process for us, employing the memory patching technique.\nBefore proceeding, it is entirely possible that some of the expressions mentioned above may not be familiar to you. If you\u0026rsquo;re wondering what assembly is, it\u0026rsquo;s a low-level programming language that represents machine code in a human-readable format, specific to each type of CPU. Assembly (or simply ASM) instructions are crucial as they allow us to understand what a program or game is doing, even after it has been compiled into its final form.\n","keywords":[],"articleBody":"Introduction Have you ever considered modifying the source code of a game as you wish and playing with that modification? In this text, we will demonstrate how to modify a game in real-time using low-level knowledge, specifically assembly language. Additionally, we will develop a simple Python program to automate the process for us, employing the memory patching technique.\nBefore proceeding, it is entirely possible that some of the expressions mentioned above may not be familiar to you. If you’re wondering what assembly is, it’s a low-level programming language that represents machine code in a human-readable format, specific to each type of CPU. Assembly (or simply ASM) instructions are crucial as they allow us to understand what a program or game is doing, even after it has been compiled into its final form.\nFurthermore, the term “patching” is used to indicate that we are modifying the game’s binary code through its ASM instructions, as if we were reprogramming it.\nTo showcase the capabilities of this manipulation, let’s take Assault Cube as an example — a first-person shooter game that is open-source. Our objective is to modify the game in such a way that when the player gets hit by a gun, their health will regenerate!\nIt’s essential to highlight that the reason I’ve chosen this game is because it lacks an anti-cheat system. Therefore, please refrain from attempting to replicate the modifications demonstrated here in any other game unless you are certain about the absence of anti-cheat measures, as doing so could lead to a ban. Additionally, I urge you to be ethical and avoid disturbing other players in multiplayer mode. Feel free to explore and experiment on your own, purely for the pursuit of knowledge.\nDynamic Analysis One of the most renowned and undoubtedly useful software for dynamic analysis in games is Cheat Engine. We will employ it to identify the memory position of the desired instruction.\nFirst of all, our initial task is to determine the memory location of the player’s health. This information will be crucial as the health attribute is modified when the player gets hit, allowing us to pinpoint the target function accurately. To achieve this, we open Cheat Engine and the game, load Assault Cube’s process, and search for the HP value displayed on the screen, which is initially set to 100.\nNumerous results were found, so we need to narrow down the search. To do that, let’s intentionally decrease our health within the game and then search again for the new value.\nAfter setting the HP value to 99 and refining the results, we identify two memory addresses. By testing them one by one (through direct modification), we pinpoint the correct one. Now that we have the location of player’s HP in memory, we can examine precisely which instruction is responsible for altering its value when an enemy shoots at us to cause damage. The instruction we discovered is:\n1 sub [ebx+04],edi This instruction subtracts a certain value stored in the EDI register from the HP value located at address EBX+04. With this information, we can proceed to patch it, altering the sub operation to add, effectively reversing the damage logic of the game.\nWorth to say that the three bytes written in hexdecimal form (29 7B 04) that appears side by side with the instruction, are the equivalent to sub [ebx+04],edi for the computer.\nPatching Let’s proceed to directly modify the instruction written in this memory region:\nWhat we’ve done here is essentially utilize our operating system to modify our RAM in a specific region, affecting only the attribute that we desired to change.\nWith just that modification, now every time damage is inflicted, the entities on the map will gain life, effectively becoming immortal, and we have achieved our goal. We have indeed successfully modified the game!\nCheat Engine assists us in discovering addresses of interest and modifying them, but it’s also possible to achieve similar modifications using other methods. Below is an example of a python code that patches the game in the same manner as done above, utilizing the pymem library, which empowers us to interact with processes and memory.\nRefer to the code below, but keep in mind that you may need to perform reverse engineering again to determine the correct offsets required if you attempt to replicate this, due to potential variations in the game’s version.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 import pymem import win32api import time PLAYER = 0x109B74 #Offset to player's address (discovered by reverse engineering) INC_HP = 0x28D1F #Offset from the beginning of instructions to the target one TEXT_BASE = 0x1000 #Offset to the beginning of instructions def hack(): p_handle = pymem.Pymem('ac_client.exe') for module in list(p_handle.list_modules()): if module.name == 'ac_client.exe': client = module.lpBaseOfDll #.exe base address if not client: print(\"[-] Module couldn't be found, exiting...\") return print(\"[+] Cheat started succefully!\") print(\"F1: Reverse damage ON/OFF\") print(\"END: Exit\\n\") inc_hp = False while(True): time.sleep(0.01) local_player = p_handle.read_uint(client + PLAYER) if not local_player: continue if win32api.GetAsyncKeyState(35): print(\"\\Exiting...\") return if win32api.GetAsyncKeyState(112) \u0026 1: inc_hp = not inc_hp if inc_hp: p_handle.write_bytes(client + TEXT_BASE + INC_HP, b\"\\x01\\x7B\\x04\", 3) #Patching: reversing the damage print(\"Reverse damage: ON\") if not inc_hp: p_handle.write_bytes(client + TEXT_BASE + INC_HP, b\"\\x29\\x7B\\x04\", 3) #Patching: returning to the normal print(\"Reverse damage: OFF\") if __name__ == '__main__': hack() References Assault Cube: https://github.com/assaultcube/AC Cheat Engine: https://github.com/cheat-engine/cheat-engine/ Pymem’s documentation: https://pymem.readthedocs.io/en/latest/ ","wordCount":"930","inLanguage":"en","image":"http://localhost:1313/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E","datePublished":"2023-08-03T00:00:00Z","dateModified":"2023-08-03T00:00:00Z","author":{"@type":"Person","name":"ruhptura"},"mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:1313/blog/2023-08-03-patching-games/"},"publisher":{"@type":"Organization","name":"Blog do GRIS","logo":{"@type":"ImageObject","url":"http://localhost:1313/%3Clink%20/%20abs%20url%3E"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=http://localhost:1313/ accesskey=h title="Home (Alt + H)"><img src=http://localhost:1313/apple-touch-icon.png alt aria-label=logo height=35>Home</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=http://localhost:1313/categories/ title=Categorias><span>Categorias</span></a></li><li><a href=http://localhost:1313/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://www.youtube.com/@grisufrj title=Youtube><span>Youtube</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=http://localhost:1313/>Home</a>&nbsp;»&nbsp;<a href=http://localhost:1313/blog/>Blogs</a></div><h1 class="post-title entry-hint-parent">Game Hacking: Using Dynamic Patching to Modify Games</h1><div class=post-meta><span title='2023-08-03 00:00:00 +0000 UTC'>August 3, 2023</span>&nbsp;·&nbsp;5 min&nbsp;·&nbsp;930 words&nbsp;·&nbsp;ruhptura&nbsp;|&nbsp;<a href=https://github.com/%3cpath_to_repo%3e/content/blog/2023-08-03-patching-games.en.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=post-content><h2 id=introduction>Introduction<a hidden class=anchor aria-hidden=true href=#introduction>#</a></h2><p>Have you ever considered modifying the source code of a game as you wish and playing with that modification? In this text, we will demonstrate how to modify a game in real-time using low-level knowledge, specifically assembly language. Additionally, we will develop a simple Python program to automate the process for us, employing the memory patching technique.</p><p>Before proceeding, it is entirely possible that some of the expressions mentioned above may not be familiar to you. If you&rsquo;re wondering what assembly is, it&rsquo;s a low-level programming language that represents machine code in a human-readable format, specific to each type of CPU. Assembly (or simply ASM) instructions are crucial as they allow us to understand what a program or game is doing, even after it has been compiled into its final form.</p><p>Furthermore, the term &ldquo;patching&rdquo; is used to indicate that we are modifying the game&rsquo;s binary code through its ASM instructions, as if we were reprogramming it.</p><p>To showcase the capabilities of this manipulation, let&rsquo;s take <a href=https://github.com/assaultcube/AC>Assault Cube</a> as an example — a first-person shooter game that is open-source. Our objective is to modify the game in such a way that when the player gets hit by a gun, their health will regenerate!</p><p>It&rsquo;s essential to highlight that the reason I&rsquo;ve chosen this game is because it lacks an anti-cheat system. Therefore, please refrain from attempting to replicate the modifications demonstrated here in any other game unless you are certain about the absence of anti-cheat measures, as doing so could lead to a ban. Additionally, I urge you to be ethical and avoid disturbing other players in multiplayer mode. Feel free to explore and experiment on your own, purely for the pursuit of knowledge.</p><h2 id=dynamic-analysis>Dynamic Analysis<a hidden class=anchor aria-hidden=true href=#dynamic-analysis>#</a></h2><p>One of the most renowned and undoubtedly useful software for dynamic analysis in games is <a href=https://github.com/cheat-engine/cheat-engine/>Cheat Engine</a>. We will employ it to identify the memory position of the desired instruction.</p><p>First of all, our initial task is to determine the memory location of the player&rsquo;s health. This information will be crucial as the health attribute is modified when the player gets hit, allowing us to pinpoint the target function accurately. To achieve this, we open Cheat Engine and the game, load Assault Cube&rsquo;s process, and search for the HP value displayed on the screen, which is initially set to 100.</p><p><img alt="Figure 1" loading=lazy src=/images/2023-08-03-1.png></p><p>Numerous results were found, so we need to narrow down the search. To do that, let&rsquo;s intentionally decrease our health within the game and then search again for the new value.</p><p><img alt="Figure 2" loading=lazy src=/images/2023-08-03-2.png></p><p>After setting the HP value to 99 and refining the results, we identify two memory addresses. By testing them one by one (through direct modification), we pinpoint the correct one. Now that we have the location of player&rsquo;s HP in memory, we can examine precisely which instruction is responsible for altering its value when an enemy shoots at us to cause damage. The instruction we discovered is:</p><p><img alt="Figure 3" loading=lazy src=/images/2023-08-03-3.png></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-nasm data-lang=nasm><span class=line><span class=cl><span class=nf>sub</span> <span class=p>[</span><span class=nb>ebx</span><span class=o>+</span><span class=mi>04</span><span class=p>],</span><span class=nb>edi</span>
</span></span></code></pre></td></tr></table></div></div><p>This instruction subtracts a certain value stored in the <strong>EDI</strong> register from the HP value located at address <strong>EBX+04</strong>. With this information, we can proceed to patch it, altering the <strong>sub</strong> operation to <strong>add</strong>, effectively reversing the damage logic of the game.</p><p>Worth to say that the three bytes written in hexdecimal form (<strong>29 7B 04</strong>) that appears side by side with the instruction, are the equivalent to <strong>sub [ebx+04],edi</strong> for the computer.</p><h2 id=patching>Patching<a hidden class=anchor aria-hidden=true href=#patching>#</a></h2><p>Let&rsquo;s proceed to directly modify the instruction written in this memory region:</p><p><img alt="Figure 4" loading=lazy src=/images/2023-08-03-4.png></p><p>What we&rsquo;ve done here is essentially utilize our operating system to modify our RAM in a specific region, affecting only the attribute that we desired to change.</p><p>With just that modification, now every time damage is inflicted, the entities on the map will gain life, effectively becoming immortal, and we have achieved our goal. We have indeed successfully modified the game!</p><p><img alt="Figure 5" loading=lazy src=/images/2023-08-03-5.png></p><p>Cheat Engine assists us in discovering addresses of interest and modifying them, but it&rsquo;s also possible to achieve similar modifications using other methods. Below is an example of a python code that patches the game in the same manner as done above, utilizing the pymem library, which empowers us to interact with processes and memory.</p><p>Refer to the code below, but keep in mind that you may need to perform reverse engineering again to determine the correct offsets required if you attempt to replicate this, due to potential variations in the game&rsquo;s version.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>pymem</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>win32api</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>time</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>PLAYER</span> <span class=o>=</span> <span class=mh>0x109B74</span> <span class=c1>#Offset to player&#39;s address (discovered by reverse engineering)</span>
</span></span><span class=line><span class=cl><span class=n>INC_HP</span> <span class=o>=</span> <span class=mh>0x28D1F</span> <span class=c1>#Offset from the beginning of instructions to the target one</span>
</span></span><span class=line><span class=cl><span class=n>TEXT_BASE</span> <span class=o>=</span> <span class=mh>0x1000</span> <span class=c1>#Offset to the beginning of instructions</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>hack</span><span class=p>():</span>
</span></span><span class=line><span class=cl>	<span class=n>p_handle</span> <span class=o>=</span> <span class=n>pymem</span><span class=o>.</span><span class=n>Pymem</span><span class=p>(</span><span class=s1>&#39;ac_client.exe&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=k>for</span> <span class=n>module</span> <span class=ow>in</span> <span class=nb>list</span><span class=p>(</span><span class=n>p_handle</span><span class=o>.</span><span class=n>list_modules</span><span class=p>()):</span>
</span></span><span class=line><span class=cl>		<span class=k>if</span> <span class=n>module</span><span class=o>.</span><span class=n>name</span> <span class=o>==</span> <span class=s1>&#39;ac_client.exe&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>			<span class=n>client</span> <span class=o>=</span> <span class=n>module</span><span class=o>.</span><span class=n>lpBaseOfDll</span> <span class=c1>#.exe base address</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=k>if</span> <span class=ow>not</span> <span class=n>client</span><span class=p>:</span>
</span></span><span class=line><span class=cl>		<span class=nb>print</span><span class=p>(</span><span class=s2>&#34;[-] Module couldn&#39;t be found, exiting...&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>		<span class=k>return</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=nb>print</span><span class=p>(</span><span class=s2>&#34;[+] Cheat started succefully!&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nb>print</span><span class=p>(</span><span class=s2>&#34;F1: Reverse damage ON/OFF&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nb>print</span><span class=p>(</span><span class=s2>&#34;END: Exit</span><span class=se>\n</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=n>inc_hp</span> <span class=o>=</span> <span class=kc>False</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=k>while</span><span class=p>(</span><span class=kc>True</span><span class=p>):</span>
</span></span><span class=line><span class=cl>		<span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mf>0.01</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>		<span class=n>local_player</span> <span class=o>=</span> <span class=n>p_handle</span><span class=o>.</span><span class=n>read_uint</span><span class=p>(</span><span class=n>client</span> <span class=o>+</span> <span class=n>PLAYER</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>		<span class=k>if</span> <span class=ow>not</span> <span class=n>local_player</span><span class=p>:</span>
</span></span><span class=line><span class=cl>			<span class=k>continue</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>		<span class=k>if</span> <span class=n>win32api</span><span class=o>.</span><span class=n>GetAsyncKeyState</span><span class=p>(</span><span class=mi>35</span><span class=p>):</span>
</span></span><span class=line><span class=cl>			<span class=nb>print</span><span class=p>(</span><span class=s2>&#34;\Exiting...&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>			<span class=k>return</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>		<span class=k>if</span> <span class=n>win32api</span><span class=o>.</span><span class=n>GetAsyncKeyState</span><span class=p>(</span><span class=mi>112</span><span class=p>)</span> <span class=o>&amp;</span> <span class=mi>1</span><span class=p>:</span>
</span></span><span class=line><span class=cl>			<span class=n>inc_hp</span> <span class=o>=</span> <span class=ow>not</span> <span class=n>inc_hp</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>			<span class=k>if</span> <span class=n>inc_hp</span><span class=p>:</span>
</span></span><span class=line><span class=cl>				<span class=n>p_handle</span><span class=o>.</span><span class=n>write_bytes</span><span class=p>(</span><span class=n>client</span> <span class=o>+</span> <span class=n>TEXT_BASE</span> <span class=o>+</span> <span class=n>INC_HP</span><span class=p>,</span> <span class=sa>b</span><span class=s2>&#34;</span><span class=se>\x01\x7B\x04</span><span class=s2>&#34;</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span> <span class=c1>#Patching: reversing the damage</span>
</span></span><span class=line><span class=cl>				<span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Reverse damage: ON&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>			<span class=k>if</span> <span class=ow>not</span> <span class=n>inc_hp</span><span class=p>:</span>
</span></span><span class=line><span class=cl>				<span class=n>p_handle</span><span class=o>.</span><span class=n>write_bytes</span><span class=p>(</span><span class=n>client</span> <span class=o>+</span> <span class=n>TEXT_BASE</span> <span class=o>+</span> <span class=n>INC_HP</span><span class=p>,</span> <span class=sa>b</span><span class=s2>&#34;</span><span class=se>\x29\x7B\x04</span><span class=s2>&#34;</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span> <span class=c1>#Patching: returning to the normal</span>
</span></span><span class=line><span class=cl>				<span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Reverse damage: OFF&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>	<span class=n>hack</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=references>References<a hidden class=anchor aria-hidden=true href=#references>#</a></h2><ul><li>Assault Cube: <a href=https://github.com/assaultcube/AC>https://github.com/assaultcube/AC</a></li><li>Cheat Engine: <a href=https://github.com/cheat-engine/cheat-engine/>https://github.com/cheat-engine/cheat-engine/</a></li><li>Pymem&rsquo;s documentation: <a href=https://pymem.readthedocs.io/en/latest/>https://pymem.readthedocs.io/en/latest/</a></li></ul></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=prev href=http://localhost:1313/blog/2023-12-24-guia-burp/><span class=title>« Prev</span><br><span>Guia Básico do Burp Suite: Explorando requisições com o Burp</span>
</a><a class=next href=http://localhost:1313/blog/2023-05-29-hyperbleed-post/><span class=title>Next »</span><br><span>Hyperbleed - Current state of spectre-BTI mitigations on cloud</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share Game Hacking: Using Dynamic Patching to Modify Games on x" href="https://x.com/intent/tweet/?text=Game%20Hacking%3a%20Using%20Dynamic%20Patching%20to%20Modify%20Games&amp;url=http%3a%2f%2flocalhost%3a1313%2fblog%2f2023-08-03-patching-games%2f&amp;hashtags="><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Game Hacking: Using Dynamic Patching to Modify Games on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=http%3a%2f%2flocalhost%3a1313%2fblog%2f2023-08-03-patching-games%2f&amp;title=Game%20Hacking%3a%20Using%20Dynamic%20Patching%20to%20Modify%20Games&amp;summary=Game%20Hacking%3a%20Using%20Dynamic%20Patching%20to%20Modify%20Games&amp;source=http%3a%2f%2flocalhost%3a1313%2fblog%2f2023-08-03-patching-games%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Game Hacking: Using Dynamic Patching to Modify Games on reddit" href="https://reddit.com/submit?url=http%3a%2f%2flocalhost%3a1313%2fblog%2f2023-08-03-patching-games%2f&title=Game%20Hacking%3a%20Using%20Dynamic%20Patching%20to%20Modify%20Games"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Game Hacking: Using Dynamic Patching to Modify Games on facebook" href="https://facebook.com/sharer/sharer.php?u=http%3a%2f%2flocalhost%3a1313%2fblog%2f2023-08-03-patching-games%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Game Hacking: Using Dynamic Patching to Modify Games on whatsapp" href="https://api.whatsapp.com/send?text=Game%20Hacking%3a%20Using%20Dynamic%20Patching%20to%20Modify%20Games%20-%20http%3a%2f%2flocalhost%3a1313%2fblog%2f2023-08-03-patching-games%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Game Hacking: Using Dynamic Patching to Modify Games on telegram" href="https://telegram.me/share/url?text=Game%20Hacking%3a%20Using%20Dynamic%20Patching%20to%20Modify%20Games&amp;url=http%3a%2f%2flocalhost%3a1313%2fblog%2f2023-08-03-patching-games%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Game Hacking: Using Dynamic Patching to Modify Games on ycombinator" href="https://news.ycombinator.com/submitlink?t=Game%20Hacking%3a%20Using%20Dynamic%20Patching%20to%20Modify%20Games&u=http%3a%2f%2flocalhost%3a1313%2fblog%2f2023-08-03-patching-games%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentcolor" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer></article></main><footer class=footer><span>&copy; 2025 <a href=http://localhost:1313/>Blog do GRIS</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>